df=df.drop(['seri,model,titles,year,km,color,prices,date,location,"seri,model,titles,year,km,color,prices,date,location"'], axis=1)

file_list = [df]
file_names = ['df.csv']
#Specify commit message
commit_message = 'Test Python'

#Create connection with GiHub
g = Github("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")

repo = g.get_user().get_repo('Porsche')
all_files = []
contents = repo.get_contents("")
while contents:
    file_content = contents.pop(0)
    if file_content.type == "dir":
        contents.extend(repo.get_contents(file_content.path))
    else:
        file = file_content
        all_files.append(str(file).replace('ContentFile(path="','').replace('")',''))
list(df.columns)
df =df[['']]
df.to_csv("dfsahi.csv", index=False)
with open('dfsahi.csv', 'r', encoding="utf8") as file:
    content = file.read()

# Upload to github
git_prefix = 'Porsche/'
git_file = 'df.csv'
### THIS PART WORKS ###
contents = repo.get_contents(git_file)

repo.create_file("df.csv", "commit message",content)
repo.update_file(contents.path, "committing files",content , contents.sha, branch="main")
